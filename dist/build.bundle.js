module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("prop-types")},function(e,t){e.exports=require("@trbl/react-html-element")},function(e,t){e.exports=require("qs")},function(e,t){e.exports=require("react-transition-group")},function(e,t){e.exports=require("body-scroll-lock")},function(e,t){e.exports=require("react-dom")},function(e,t,n){"use strict";n.r(t),n.d(t,"asModal",(function(){return h})),n.d(t,"Modal",(function(){return E})),n.d(t,"ModalContainer",(function(){return D})),n.d(t,"ModalContext",(function(){return p})),n.d(t,"ModalProvider",(function(){return U})),n.d(t,"ModalToggler",(function(){return K})),n.d(t,"useModal",(function(){return d})),n.d(t,"withModal",(function(){return F}));var r=n(0),o=n.n(r),c=n(6),a=n.n(c),i=n(1),l=n.n(i),u=n(4),s=n(2),f=n.n(s),p=o.a.createContext({}),d=function(){return Object(r.useContext)(p)},b=function(e){return e?{appear:"".concat(e,"--appear"),appearActive:"".concat(e,"--appearActive"),appearDone:"".concat(e,"--appearDone"),enter:"".concat(e,"--enter"),enterActive:"".concat(e,"--enterActive"),enterDone:"".concat(e,"--enterDone"),exit:"".concat(e,"--exit"),exitActive:"".concat(e,"--exitActive"),exitDone:"".concat(e,"--exitDone")}:{}};function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,c=void 0;try{for(var a,i=e[Symbol.iterator]();!(r=(a=i.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,c=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=function(e,t){var n=function(n){var c=d(),i=c.openModals,l=c.classPrefix,s=c.containerRef,p=c.transTime,m=c.setWillCloseOnBlur,g=c.setBodyScrollLock,j=c.register,h=c.unregister,P=n.id,w=n.className,S=n.style,E=n.htmlElement,x=n.htmlAttributes,C=n.slug,A=n.closeOnBlur,k=n.lockBodyScroll,D=Object(r.useRef)(t||C),T=i.includes(D),M=Object(r.useCallback)((function(e){e?j(D):h(D)}),[j,h,D]);Object(r.useEffect)((function(){return M(!0),function(){return M(!1)}}),[M]),Object(r.useEffect)((function(){T&&m(A)}),[T,A,m]);var B=Object(r.useRef)(null),N=Object(r.useCallback)((function(e){B.current=e}),[B]);Object(r.useEffect)((function(){B.current&&g(!(!T||!k),B)}),[T,k,g]),Object(r.useEffect)((function(){return function(){return g(!1,B)}}),[g]);var _=v(Object(r.useState)(T),2),I=_[0],R=_[1];if(Object(r.useEffect)((function(){T?R(T):setTimeout((function(){return R(!1)}),p)}),[T,p]),s.current){var q="".concat(l,"__").concat("modal-item"),L=[q,"".concat(q,"--slug-").concat(D),w].filter(Boolean).join(" "),z=O({role:"dialog"!==E?"dialog":void 0,open:"dialog"===E?I||T:void 0,"aria-modal":!0,"aria-label":x["aria-labelledby"]?void 0:D},x);return a.a.createPortal(o.a.createElement(u.CSSTransition,{timeout:p,in:T,classNames:b(q),appear:!0},o.a.createElement(f.a,y({id:P||D,className:L,style:S,htmlElement:E,htmlAttributes:z},{ref:N}),o.a.createElement(e,O({},n,{isOpen:T,modal:c})))),s.current)}return null};return n.defaultProps={slug:"",closeOnBlur:!0,lockBodyScroll:!0,id:void 0,className:void 0,style:{},htmlElement:"dialog",htmlAttributes:{}},n.propTypes={slug:l.a.string,closeOnBlur:l.a.bool,lockBodyScroll:l.a.bool,id:l.a.string,className:l.a.string,style:l.a.shape({}),htmlElement:l.a.string,htmlAttributes:l.a.shape({id:l.a.string,className:l.a.string,style:l.a.shape({}),onClick:l.a.func})},n};function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=function(e){var t=e.children;return t&&"function"==typeof t?t(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)):null};S.defaultProps={children:void 0},S.propTypes={children:l.a.func};var E=h(S);function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(e){var t=d(),n=t.oneIsOpen,r=t.classPrefix,c=t.transTime,a=t.setContainerRef,i=t.closeAll,l=t.willCloseOnBlur,s=e.id,p=e.className,y=e.style,m=e.htmlElement,O=e.htmlAttributes,g=e.children,v="".concat(r,"__").concat("modal-container"),j=[v,p].filter(Boolean).join(" "),h=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},O,{onClick:function(){l&&i(),"function"==typeof O.onClick&&O.onClick()}});return o.a.createElement(u.CSSTransition,{in:n,timeout:c,classNames:b(v),appear:!0},o.a.createElement(f.a,x({id:s,className:j,style:y,htmlElement:m,htmlAttributes:h},{ref:a}),g&&g))};k.defaultProps={id:void 0,className:void 0,style:{},htmlElement:"div",htmlAttributes:{},children:void 0},k.propTypes={id:l.a.string,className:l.a.string,style:l.a.shape({}),htmlElement:l.a.string,htmlAttributes:l.a.shape({onClick:l.a.func}),children:l.a.node};var D=k,T=n(3),M=n.n(T),B=n(5);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,c=void 0;try{for(var a,i=e[Symbol.iterator]();!(r=(a=i.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,c=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var L=function(){return M.a.parse(window.location.search,{ignoreQueryPrefix:!0})},z=function(e,t){var n=t.type,r=t.slugs;if(Array.isArray(r)){if("add"===n)return e.concat(r);if("remove"===n)return e.some((function(e){return!r.includes(e)}))}return"clear"===n?[]:e},Q=function(e){var t=e.classPrefix,n=e.minifyCSS,c=e.generateCSS,a=e.zIndex,i=e.handleParamChange,l=e.children,u=e.transTime,s=Object(r.useRef)(null),f=R(Object(r.useReducer)(z,[]),2),d=f[0],b=f[1],y=R(Object(r.useReducer)(z,[]),2),m=y[0],O=y[1],g=R(Object(r.useState)(!1),2),v=g[0],j=g[1],h=R(Object(r.useState)(!1),2),P=h[0],w=h[1],S=R(Object(r.useState)(!1),2),E=S[0],x=S[1],C=R(Object(r.useState)(""),2),A=C[0],k=C[1],D=R(Object(r.useState)(""),2),T=D[0],N=D[1],I=Object(r.useCallback)((function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(e&&("function"==typeof i&&i({type:"clear"}),"boolean"==typeof i&&i)){var t=_({},L());delete t.modal;var n=M.a.stringify(t,{addQueryPrefix:!0,encode:!1}),r="".concat(window.location.pathname).concat(n);window.history.pushState({},"",r)}Object(B.clearAllBodyScrollLocks)(),O({type:"clear"})}),[i]),q=Object(r.useCallback)((function(e){27===e.keyCode&&I()}),[I]);Object(r.useEffect)((function(){var e=L().modal;O({type:"addBulk",slug:e})}),[]),Object(r.useEffect)((function(){return document.addEventListener("keydown",(function(e){return q(e)}),!1),function(){return document.removeEventListener("keydown",(function(e){return q(e)}),!1)}}),[q]),Object(r.useEffect)((function(){var e="trbl";"string"==typeof t&&t&&(e=t),"boolean"!=typeof t||t||(e=void 0),N(e)}),[t]),Object(r.useEffect)((function(){if(c){var e="";e=function(e,t){var n=e?"".concat(e,"__"):"";return"\n    .".concat(n).concat("modal-container"," {\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      position: fixed;\n      pointer-events: none;\n      visibility: hidden;\n      z-index: -1;\n    }\n\n    .").concat(n).concat("modal-container","--appear,\n    .").concat(n).concat("modal-container","--appearDone,\n    .").concat(n).concat("modal-container","--enter,\n    .").concat(n).concat("modal-container","--enterDone,\n    .").concat(n).concat("modal-container","--exit {\n      pointer-events: all;\n      visibility: visible;\n      z-index: ").concat(t,";\n    }\n\n    .").concat(n).concat("modal-item"," {\n      position: absolute;\n      left: 0;\n      top: 0;\n      visibility: hidden;\n    }\n\n    .").concat(n).concat("modal-item","--appear,\n    .").concat(n).concat("modal-item","--appearDone,\n    .").concat(n).concat("modal-item","--enter,\n    .").concat(n).concat("modal-item","--enterDone,\n    .").concat(n).concat("modal-item","--exit {\n      visibility: visible;\n    }\n  ")}(T,a),n&&(e=e.replace(/\n/g,"").replace(/\s\s+/g," ")),k(e)}}),[c,n,a,T]);var Q=Object(r.useCallback)((function(e,t){if(!t&&("function"==typeof i&&i({type:"add",slug:e}),"boolean"==typeof i&&i)){var n=L(),r=n.modal,o=_({},n);r?("string"==typeof r&&(o.modal=[r,e]),Array.isArray(r)&&o.modal.push(e)):o.modal=e;var c=M.a.stringify(o,{addQueryPrefix:!0,encode:!1}),a="".concat(window.location.pathname).concat(c);window.history.pushState({},"",a)}O({type:"add",slug:e})}),[i]),U=Object(r.useCallback)((function(e,t){if(!t&&("function"==typeof i&&i({type:"remove",slug:e}),"boolean"==typeof i&&i)){var n=_({},L()),r=n.modal;r&&("string"==typeof r&&r===e&&delete n.modal,Array.isArray(r)&&(n.modal=r.filter((function(t){return t!==e}))));var o=M.a.stringify(n,{addQueryPrefix:!0,encode:!1}),c="".concat(window.location.pathname).concat(o);window.history.pushState({},"",c)}O({type:"remove",slug:e})}),[i]),W=Object(r.useCallback)((function(e){m.includes(e)?U(e):Q(e)}),[U,Q,m]),$=Object(r.useCallback)((function(e,t){e?(Object(B.disableBodyScroll)(t.current),x(!0)):(Object(B.enableBodyScroll)(t.current),x(!1))}),[]),F=Object(r.useCallback)((function(e){s.current=e}),[]);Object(r.useEffect)((function(){j(m.some((function(e){return d.includes(e)})))}),[m,d]);var H=_({},e);return delete H.children,o.a.createElement(r.Fragment,null,c&&o.a.createElement("style",{dangerouslySetInnerHTML:{__html:A}}),o.a.createElement(p.Provider,{value:_({},H,{transTime:u,containerRef:s,registeredModals:d,openModals:m,oneIsOpen:v,willCloseOnBlur:P,bodyScrollIsLocked:E,classPrefix:T,toggle:W,open:Q,close:U,closeAll:I,register:function(e){console.log("register",e),b({type:"add",slug:e})},unregister:function(e){b({type:"remove",slug:e})},setContainerRef:F,setBodyScrollLock:$,setWillCloseOnBlur:w})},l&&l))};Q.defaultProps={generateCSS:!0,minifyCSS:!0,classPrefix:void 0,handleParamChange:void 0,transTime:1e3,zIndex:9999,children:void 0},Q.propTypes={generateCSS:l.a.bool,minifyCSS:l.a.bool,classPrefix:l.a.oneOfType([l.a.string,l.a.bool]),handleParamChange:l.a.oneOfType([l.a.func,l.a.bool]),transTime:l.a.number,zIndex:l.a.number,children:l.a.node};var U=Q;function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F=function(e){return function(t){return o.a.createElement(p.Consumer,null,(function(n){return o.a.createElement(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{modal:n}))}))}};function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J=function(e){var t=e.id,n=e.className,r=e.modal,c=r.openModals,a=r.toggle,i=r.classPrefix,l=e.slug,u=e.style,s=e.htmlElement,p=e.htmlAttributes,d=e.children,b="".concat(i,"__modal-toggler"),y=c.includes(l),m=[b,"".concat(b,"--slug-").concat(l),y&&"".concat(b,"--slug-").concat(l,"--is-open"),n].filter(Boolean).join(" "),O=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({role:"button","aria-expanded":y?"true":"false","aria-controls":l},p,{onClick:function(){a(l),"function"==typeof p.onClick&&p.onClick()}});return o.a.createElement(f.a,{id:t,className:m,style:u,htmlElement:s,htmlAttributes:O},d&&d)};J.defaultProps={id:void 0,className:void 0,style:{},htmlElement:"button",htmlAttributes:{},children:void 0},J.propTypes={slug:l.a.string.isRequired,modal:l.a.shape({openModals:l.a.array,toggle:l.a.func,classPrefix:l.a.string}).isRequired,id:l.a.string,className:l.a.string,style:l.a.shape({}),htmlElement:l.a.string,htmlAttributes:l.a.shape({id:l.a.string,className:l.a.string,style:l.a.shape({}),onClick:l.a.func}),children:l.a.node};var K=F(J)}]);
//# sourceMappingURL=build.bundle.js.map